import t,{version as e,h as r}from"vue";var n;function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var a=!e||/^[012]\..+/.test(e),s=(n={props:{config:[Object,Promise],wrapWith:String,wrapClass:String,wrapStyle:Object,mountParcel:Function,parcelProps:Object},render:function(e){e="function"==typeof e?e:r||t&&t.h;var n=this.wrapWith||"div",o={ref:"container"};return this.wrapClass&&(o.class=this.wrapClass),this.wrapStyle&&(o.style=this.wrapStyle),e(n,o)},data:function(){return{hasError:!1}},methods:{addThingToDo:function(t,e){var r=this;this.hasError&&"unmount"!==t||(this.nextThingToDo=(this.nextThingToDo||Promise.resolve()).then((function(){if(!r.unmounted||"unmount"===t){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e.apply(r,o)}})).catch((function(e){throw r.nextThingToDo=Promise.resolve(),r.hasError=!0,e&&e.message&&(e.message="During '".concat(t,"', parcel threw an error: ").concat(e.message)),r.$emit("parcelError",e),e})))},singleSpaMount:function(){var t=this;return this.parcel=this.mountParcel(this.config,this.getParcelProps()),this.parcel.mountPromise.then((function(){t.$emit("parcelMounted")}))},singleSpaUnmount:function(){if(this.parcel)return this.parcel.unmount()},singleSpaUpdate:function(){var t=this;if(this.parcel&&this.parcel.update)return this.parcel.update(this.getParcelProps()).then((function(){t.$emit("parcelUpdated")}))},getParcelProps:function(){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({domElement:this.$refs.container},this.parcelProps||{})}},mounted:function(){if(!this.config)throw Error("single-spa-vue: <parcel> component requires a config prop.");if(!this.mountParcel)throw Error("single-spa-vue: <parcel> component requires a mountParcel prop");this.config&&this.addThingToDo("mount",this.singleSpaMount)}},i(n,a?"destroyed":"unmounted",(function(){this.addThingToDo("unmount",this.singleSpaUnmount)})),i(n,"watch",{parcelProps:{handler:function(t){this.addThingToDo("update",this.singleSpaUpdate)}}}),n);export default s;
//# sourceMappingURL=parcel.js.map
